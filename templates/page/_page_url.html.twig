{% set target = '' %}

{% if item.type == constant('App\\Entity\\Page::SECTION_TYPE') %}
    {% set url = path('app_page_section', {slug: item.slug}) %}
{% elseif item.type == constant('App\\Entity\\Page::EXTEND_TYPE') %}
    {% set url = item.slug %}
    {% set target = 'target="_blank"' %}
{% else %}
    {% set url = path('app_page_show', {slug: item.slug}) %}
{% endif %}

{% if small_image is defined %}
<a href="{{ url }}" {{ target }} title="{{ item.name }}">
    <img src="{{ image_public }}/{{ constant('App\\Entity\\Page::PATH')[constant('App\\Entity\\Page::SMALL_IMAGE_TYPE')] }}/{{ item.image }}" alt="{{ item.name }}">
</a>
{% elseif item.type == constant('App\\Entity\\Page::MENU_TYPE_VERTICAL') %}
    <a style="padding-left: {{ item.level > 1 ?  item.level * 15 : 0 }}px" href="{{ url }}" {{ target }}
       title="{{ item.name }}">{{ link_text is defined ? link_text : item.name }}</a>

{% else %}
    <a href="{{ url }}" {{ target }} title="{{ item.name }}">{{  link_text is defined ? link_text : item.name }}</a>
{% endif %}